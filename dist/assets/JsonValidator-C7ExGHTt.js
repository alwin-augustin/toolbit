import{r as t,j as e,S as h,w as v,x as f}from"./vendor-react-BRDxYWww.js";import{B as S}from"./index-CSjyOe-k.js";import{T as p}from"./textarea-Bf7Irmiz.js";import{A as b}from"./vendor-misc-LEklij9m.js";import{T as J}from"./ToolCard-DSYdX5rd.js";import"./vendor-ui-BA32w1ww.js";import"./vendor-routing-state-QrItU_Pd.js";import"./vendor-data-DBwwMht3.js";import"./card-A36AAJPa.js";function A(){const[n,x]=t.useState(""),[i,j]=t.useState(""),[d,r]=t.useState(""),[l,o]=t.useState(!0),g=()=>{var a;try{const s=JSON.parse(n),u=JSON.parse(i),c=new b().compile(u);if(c(s))r("✅ JSON is valid according to the schema"),o(!0);else{const N=((a=c.errors)==null?void 0:a.map(m=>`${m.instancePath||"root"}: ${m.message}`).join(`
`))||"Unknown validation error";r(`❌ Validation failed:
${N}`),o(!1)}}catch(s){r(`Error: ${s instanceof Error?s.message:"Invalid JSON or schema"}`),o(!1)}};return e.jsxs(J,{title:"JSON Schema Validator",description:"Validate JSON data against a JSON schema",icon:e.jsx(h,{className:"h-5 w-5"}),children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"json-data",className:"text-sm font-medium",children:"JSON Data"}),e.jsx(p,{id:"json-data",placeholder:'{"name": "John", "age": 30}',value:n,onChange:a=>x(a.target.value),className:"h-32 font-mono text-sm","data-testid":"input-json-data"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"json-schema",className:"text-sm font-medium",children:"JSON Schema"}),e.jsx(p,{id:"json-schema",placeholder:'{"type": "object", "properties": {"name": {"type": "string"}, "age": {"type": "number"}}, "required": ["name", "age"]}',value:i,onChange:a=>j(a.target.value),className:"h-32 font-mono text-sm","data-testid":"input-json-schema"})]})]}),e.jsxs(S,{onClick:g,className:"w-full","data-testid":"button-validate",children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Validate"]}),d&&e.jsx("div",{className:`p-4 rounded-md border ${l?"bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800":"bg-red-50 border-red-200 dark:bg-red-950 dark:border-red-800"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[l?e.jsx(v,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}):e.jsx(f,{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5"}),e.jsx("pre",{className:"text-sm whitespace-pre-wrap font-mono","data-testid":"validation-result",children:d})]})})]})}export{A as default};
